<!DOCTYPE html>
<html>
  <head>
    <title>Retro Tic-Tac-Toe</title>
    <style>
      .container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin-top: 100px;
      }
      .board {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 200px;
        height: 200px;
        border: 1px solid black;
      }
      .cell {
        width: 60px;
        height: 60px;
        border: 1px solid black;
        text-align: center;
        line-height: 60px;
        font-size: 30px;
      }
      .x {
        color: red;
      }
      .o {
        color: blue;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="board" id="board0">
        <div class="cell" id="cell00"></div>
        <div class="cell" id="cell01"></div>
        <div class="cell" id="cell02"></div>
      </div>
      <div class="board" id="board1">
        <div class="cell" id="cell10"></div>
        <div class="cell" id="cell11"></div>
        <div class="cell" id="cell12"></div>
      </div>
      <div class="board" id="board2">
        <div class="cell" id="cell20"></div>
        <div class="cell" id="cell21"></div>
        <div class="cell" id="cell22"></div>
      </div>
    </div>
    <script>
      let board = [
        ["", "", ""],
        ["", "", ""],
        ["", "", ""],
      ];
      let currentPlayer = "x";

      function makeMove(row, col) {
        if (board[row][col] == "") {
          board[row][col] = currentPlayer;
          document.getElementById(`cell${row}${col}`).textContent =
            currentPlayer;
          if (checkWin(row, col)) {
            setTimeout(() => {
              alert(`Player ${currentPlayer} wins!`);
              resetGame();
            }, 100);
          } else if (isBoardFull()) {
            setTimeout(() => {
              alert("It's a draw!");
              resetGame();
            }, 100);
          } else {
            currentPlayer = currentPlayer == "x" ? "o" : "x";
          }
        }
      }

      function checkWin(row, col) {
        return (
          checkLine(0, row) ||
          checkLine(1, row) ||
          checkLine(2, row) ||
          checkLine(col, 0) ||
          checkLine(col, 1) ||
          checkLine(col, 2) ||
          checkLine(0, 0, row, col) ||
          checkLine(0, 2, row, col)
        );
      }

      function checkLine(start, end) {
        for (let i = start; i <= end; i++) {
          if (board[start][i] != currentPlayer) {
            return false;
          }
        }
        return true;
      }

      function isBoardFull() {
        for (let row = 0; row < 3; row++) {
          for (let col = 0; col < 3; col++) {
            if (board[row][col] == "") {
              return false;
            }
          }
        }
        return true;
      }

      function resetGame() {
        board = [
          ["", "", ""],
          ["", "", ""],
          ["", "", ""],
        ];
        currentPlayer = "x";
        for (let row = 0; row < 3; row++) {for (let col = 0; col < 3; col++) {
            document.getElementById(`cell${row}${col}`).textContent = "";
          }
        }
      }

      document.addEventListener("click", (e) => {
        if (e.target.classList.contains("cell")) {
          const row = parseInt(e.target.id[4]);
          const col = parseInt(e.target.id[5]);
          makeMove(row, col);
        }
      });
    </script>
  </body>
</html>